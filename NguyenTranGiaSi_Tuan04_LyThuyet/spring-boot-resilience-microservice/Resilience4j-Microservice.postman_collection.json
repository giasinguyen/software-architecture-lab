{
	"info": {
		"name": "üõ°Ô∏è Resilience4j Microservice Demo",
		"description": "Test Resilience4j patterns v·ªõi Order Service v√† Product Service\n\n**Services:**\n- Product Service: http://localhost:8081\n- Order Service: http://localhost:8080\n\n**Patterns:**\n1. Retry - T·ª± ƒë·ªông th·ª≠ l·∫°i\n2. Circuit Breaker - Ng·∫Øt m·∫°ch khi l·ªói nhi·ªÅu\n3. Rate Limiter - Gi·ªõi h·∫°n request/gi√¢y\n4. Bulkhead - Gi·ªõi h·∫°n concurrent requests",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "order_service",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "product_service",
			"value": "http://localhost:8081",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "üì¶ Product Service (8081)",
			"item": [
				{
					"name": "1. Get Products List",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{product_service}}/api/products/list",
							"host": ["{{product_service}}"],
							"path": ["api", "products", "list"]
						},
						"description": "Lu√¥n th√†nh c√¥ng - Test happy path"
					}
				},
				{
					"name": "2. Unstable Product (50% l·ªói)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{product_service}}/api/products/unstable",
							"host": ["{{product_service}}"],
							"path": ["api", "products", "unstable"]
						},
						"description": "50% x√°c su·∫•t l·ªói - D√πng ƒë·ªÉ test RETRY"
					}
				},
				{
					"name": "3. Slow Product (delay 3s)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{product_service}}/api/products/slow?delaySeconds=3",
							"host": ["{{product_service}}"],
							"path": ["api", "products", "slow"],
							"query": [
								{
									"key": "delaySeconds",
									"value": "3"
								}
							]
						},
						"description": "Delay n gi√¢y - D√πng ƒë·ªÉ test BULKHEAD"
					}
				},
				{
					"name": "4. Error Product (lu√¥n l·ªói)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{product_service}}/api/products/error",
							"host": ["{{product_service}}"],
							"path": ["api", "products", "error"]
						},
						"description": "Lu√¥n tr·∫£ l·ªói 500 - D√πng ƒë·ªÉ test CIRCUIT BREAKER"
					}
				},
				{
					"name": "5. Product Service Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{product_service}}/api/products/status",
							"host": ["{{product_service}}"],
							"path": ["api", "products", "status"]
						},
						"description": "Xem tr·∫°ng th√°i v√† s·ªë request"
					}
				},
				{
					"name": "6. Reset Counter",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{product_service}}/api/products/reset",
							"host": ["{{product_service}}"],
							"path": ["api", "products", "reset"]
						},
						"description": "Reset b·ªô ƒë·∫øm v·ªÅ 0"
					}
				}
			]
		},
		{
			"name": "üõí Order Service (8080) - Resilience4j",
			"item": [
				{
					"name": "üîÑ 1. Test RETRY",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/api/orders/retry",
							"host": ["{{order_service}}"],
							"path": ["api", "orders", "retry"]
						},
						"description": "**Test RETRY Pattern**\n\nG·ªçi Product Service /unstable (50% l·ªói).\nN·∫øu l·ªói ‚Üí t·ª± ƒë·ªông retry t·ªëi ƒëa 3 l·∫ßn.\n\n**K·∫øt qu·∫£:**\n- SUCCESS: Sau v√†i l·∫ßn retry th√†nh c√¥ng\n- ERROR 503: \"Product Service unavailable after retry\" (n·∫øu retry h·∫øt)"
					}
				},
				{
					"name": "üîå 2. Test CIRCUIT BREAKER",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/api/orders/circuit-breaker",
							"host": ["{{order_service}}"],
							"path": ["api", "orders", "circuit-breaker"]
						},
						"description": "**Test CIRCUIT BREAKER Pattern**\n\n**C√°ch test:**\n1. G·ªçi endpoint n√†y 5-6 l·∫ßn li√™n t·ª•c\n2. Xem response c√≥ circuit state\n\n**K·∫øt qu·∫£ mong ƒë·ª£i:**\n- L·∫ßn 1-3: ERROR (Product Service l·ªói), circuit CLOSED\n- L·∫ßn 4-5: ERROR, t·ª∑ l·ªá l·ªói >50%\n- L·∫ßn 6+: Circuit OPEN ‚Üí \"Circuit breaker is OPEN\"\n\n**Sau 10 gi√¢y:** Circuit t·ª± chuy·ªÉn HALF_OPEN"
					}
				},
				{
					"name": "‚è±Ô∏è 3. Test RATE LIMITER",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/api/orders/rate-limiter",
							"host": ["{{order_service}}"],
							"path": ["api", "orders", "rate-limiter"]
						},
						"description": "**Test RATE LIMITER Pattern**\n\nGi·ªõi h·∫°n: 5 requests / 10 gi√¢y\n\n**C√°ch test:**\n- G·ªçi nhanh >5 l·∫ßn li√™n t·ª•c\n- Ho·∫∑c d√πng Postman Runner v·ªõi 10 iterations\n\n**K·∫øt qu·∫£:**\n- Request 1-5: SUCCESS\n- Request 6+: ERROR 503 \"Rate limit exceeded\"\n- Sau 10 gi√¢y: Reset, cho ph√©p 5 request m·ªõi"
					}
				},
				{
					"name": "üö¢ 4. Test BULKHEAD",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/api/orders/bulkhead",
							"host": ["{{order_service}}"],
							"path": ["api", "orders", "bulkhead"]
						},
						"description": "**Test BULKHEAD Pattern**\n\nGi·ªõi h·∫°n: 3 concurrent requests\n\n**C√°ch test:**\n- M·ªü 5 tab Postman v√† g·ªçi ƒë·ªìng th·ªùi\n- Ho·∫∑c d√πng Runner v·ªõi delay 0ms\n\n**K·∫øt qu·∫£:**\n- 3 request ƒë·∫ßu: SUCCESS (delay 3s)\n- Request 4+: ERROR 503 \"Service overloaded\"\n\n**L∆∞u √Ω:** Endpoint g·ªçi Product Service /slow (delay 3s) n√™n d·ªÖ test concurrent"
					}
				},
				{
					"name": "üîó 5. Test COMBINED",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/api/orders/combined",
							"host": ["{{order_service}}"],
							"path": ["api", "orders", "combined"]
						},
						"description": "**Test K·∫æT H·ª¢P Pattern**\n\n√Åp d·ª•ng ƒë·ªìng th·ªùi:\n1. Rate Limiter (5 req/10s)\n2. Circuit Breaker (50% failure ‚Üí OPEN)\n3. Retry (3 l·∫ßn)\n\nTh·ª© t·ª± ki·ªÉm tra:\nRequest ‚Üí Rate Limiter ‚Üí Circuit Breaker ‚Üí Retry ‚Üí Product Service"
					}
				},
				{
					"name": "üìä 6. Circuit Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/api/orders/circuit-status",
							"host": ["{{order_service}}"],
							"path": ["api", "orders", "circuit-status"]
						},
						"description": "Xem tr·∫°ng th√°i Circuit Breaker:\n- circuitState: CLOSED/OPEN/HALF_OPEN\n- failureRate: T·ª∑ l·ªá l·ªói\n- successfulCalls: S·ªë l·∫ßn th√†nh c√¥ng\n- failedCalls: S·ªë l·∫ßn th·∫•t b·∫°i"
					}
				},
				{
					"name": "üîÑ 7. Reset Circuit Breaker",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{order_service}}/api/orders/circuit-reset",
							"host": ["{{order_service}}"],
							"path": ["api", "orders", "circuit-reset"]
						},
						"description": "Reset Circuit Breaker v·ªÅ CLOSED.\nD√πng khi mu·ªën demo l·∫°i t·ª´ ƒë·∫ßu."
					}
				}
			]
		},
		{
			"name": "üìà Actuator Monitoring",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/actuator/health",
							"host": ["{{order_service}}"],
							"path": ["actuator", "health"]
						}
					}
				},
				{
					"name": "All Circuit Breakers",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/actuator/circuitbreakers",
							"host": ["{{order_service}}"],
							"path": ["actuator", "circuitbreakers"]
						}
					}
				},
				{
					"name": "All Rate Limiters",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/actuator/ratelimiters",
							"host": ["{{order_service}}"],
							"path": ["actuator", "ratelimiters"]
						}
					}
				},
				{
					"name": "All Retries",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/actuator/retries",
							"host": ["{{order_service}}"],
							"path": ["actuator", "retries"]
						}
					}
				},
				{
					"name": "All Bulkheads",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{order_service}}/actuator/bulkheads",
							"host": ["{{order_service}}"],
							"path": ["actuator", "bulkheads"]
						}
					}
				}
			]
		}
	]
}
