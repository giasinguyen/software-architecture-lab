{
	"info": {
		"_postman_id": "resilience4j-demo-collection",
		"name": "üõ°Ô∏è Resilience4j Demo",
		"description": "Collection ƒë·ªÉ test c√°c c∆° ch·∫ø Fault Tolerance c·ªßa Resilience4j:\n- Retry\n- Circuit Breaker\n- Rate Limiter\n- Bulkhead\n\n**H∆∞·ªõng d·∫´n:**\n1. Ch·∫°y Provider Service (port 8081) tr∆∞·ªõc\n2. Ch·∫°y Client Service (port 8080)\n3. Test c√°c endpoint theo th·ª© t·ª±",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "client_url",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "provider_url",
			"value": "http://localhost:8081",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "üì¶ Provider Service (Port 8081)",
			"description": "C√°c endpoint c·ªßa Provider - Service B",
			"item": [
				{
					"name": "1. Get Data (Lu√¥n th√†nh c√¥ng)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{provider_url}}/api/provider/data",
							"host": ["{{provider_url}}"],
							"path": ["api", "provider", "data"]
						},
						"description": "Endpoint lu√¥n tr·∫£ v·ªÅ d·ªØ li·ªáu th√†nh c√¥ng.\nD√πng ƒë·ªÉ test happy path."
					}
				},
				{
					"name": "2. Unstable (50% l·ªói random)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{provider_url}}/api/provider/unstable",
							"host": ["{{provider_url}}"],
							"path": ["api", "provider", "unstable"]
						},
						"description": "Endpoint c√≥ 50% x√°c su·∫•t tr·∫£ v·ªÅ l·ªói 500.\nD√πng ƒë·ªÉ test RETRY pattern."
					}
				},
				{
					"name": "3. Slow (Delay n gi√¢y)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{provider_url}}/api/provider/slow?delaySeconds=3",
							"host": ["{{provider_url}}"],
							"path": ["api", "provider", "slow"],
							"query": [
								{
									"key": "delaySeconds",
									"value": "3",
									"description": "S·ªë gi√¢y delay (m·∫∑c ƒë·ªãnh 3)"
								}
							]
						},
						"description": "Endpoint delay n gi√¢y tr∆∞·ªõc khi tr·∫£ k·∫øt qu·∫£.\nD√πng ƒë·ªÉ test BULKHEAD v√† timeout."
					}
				},
				{
					"name": "4. Always Fail (Lu√¥n l·ªói 500)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{provider_url}}/api/provider/always-fail",
							"host": ["{{provider_url}}"],
							"path": ["api", "provider", "always-fail"]
						},
						"description": "Endpoint LU√îN tr·∫£ v·ªÅ l·ªói 500.\nD√πng ƒë·ªÉ test CIRCUIT BREAKER pattern."
					}
				},
				{
					"name": "5. Get Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{provider_url}}/api/provider/status",
							"host": ["{{provider_url}}"],
							"path": ["api", "provider", "status"]
						},
						"description": "Xem tr·∫°ng th√°i Provider v√† s·ªë request ƒë√£ nh·∫≠n."
					}
				},
				{
					"name": "6. Reset Counter",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{provider_url}}/api/provider/reset",
							"host": ["{{provider_url}}"],
							"path": ["api", "provider", "reset"]
						},
						"description": "Reset b·ªô ƒë·∫øm request v·ªÅ 0 ƒë·ªÉ b·∫Øt ƒë·∫ßu demo l·∫°i."
					}
				}
			]
		},
		{
			"name": "üõ°Ô∏è Client Service (Port 8080)",
			"description": "C√°c endpoint c·ªßa Client - Service A (c√≥ Resilience4j)",
			"item": [
				{
					"name": "üîÑ 1. Test RETRY",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/api/client/retry",
							"host": ["{{client_url}}"],
							"path": ["api", "client", "retry"]
						},
						"description": "**Test RETRY Pattern**\n\nC√°ch ho·∫°t ƒë·ªông:\n- G·ªçi Provider /unstable (50% l·ªói)\n- N·∫øu l·ªói ‚Üí t·ª± ƒë·ªông retry (t·ªëi ƒëa 3 l·∫ßn, c√°ch 2s)\n- N·∫øu h·∫øt retry ‚Üí tr·∫£ fallback\n\n**Quan s√°t:**\n- Xem log Client ƒë·ªÉ th·∫•y s·ªë l·∫ßn retry\n- Response c√≥ th·ªÉ l√† data th·∫≠t ho·∫∑c fallback"
					}
				},
				{
					"name": "üîå 2. Test CIRCUIT BREAKER",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/api/client/circuit",
							"host": ["{{client_url}}"],
							"path": ["api", "client", "circuit"]
						},
						"description": "**Test CIRCUIT BREAKER Pattern**\n\nC√°ch test:\n1. G·ªçi endpoint n√†y 5-6 l·∫ßn li√™n t·ª•c\n2. Quan s√°t tr·∫°ng th√°i circuit trong response\n\nK·∫øt qu·∫£ mong ƒë·ª£i:\n- L·∫ßn 1-3: Circuit CLOSED, g·ªçi Provider (l·ªói)\n- L·∫ßn 4-5: Circuit v·∫´n CLOSED, ƒë·∫øm l·ªói\n- L·∫ßn 6+: Circuit OPEN, tr·∫£ fallback NGAY (kh√¥ng g·ªçi Provider)\n\n**Sau 10 gi√¢y:** Circuit chuy·ªÉn HALF_OPEN"
					}
				},
				{
					"name": "‚è±Ô∏è 3. Test RATE LIMITER",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/api/client/rate-limit",
							"host": ["{{client_url}}"],
							"path": ["api", "client", "rate-limit"]
						},
						"description": "**Test RATE LIMITER Pattern**\n\nC√°ch test:\n- Click nhanh li√™n t·ª•c > 5 l·∫ßn trong 10 gi√¢y\n- Ho·∫∑c d√πng Postman Runner v·ªõi 10 iterations\n\nK·∫øt qu·∫£ mong ƒë·ª£i:\n- 5 request ƒë·∫ßu: Th√†nh c√¥ng\n- Request 6+: Tr·∫£ fallback (v∆∞·ª£t qu√° 5 req/10s)\n- Sau 10 gi√¢y: Reset, cho ph√©p 5 request m·ªõi"
					}
				},
				{
					"name": "üö¢ 4. Test BULKHEAD",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/api/client/bulkhead",
							"host": ["{{client_url}}"],
							"path": ["api", "client", "bulkhead"]
						},
						"description": "**Test BULKHEAD Pattern**\n\nC√°ch test:\n- M·ªü 5 tab Postman v√† g·ªçi ƒë·ªìng th·ªùi\n- Ho·∫∑c d√πng Postman Runner v·ªõi delay 0ms\n\nK·∫øt qu·∫£ mong ƒë·ª£i:\n- 3 request ƒë·∫ßu: ƒê∆∞·ª£c x·ª≠ l√Ω (ƒë·ª£i 3 gi√¢y)\n- Request 4+: Tr·∫£ fallback NGAY (v∆∞·ª£t qu√° 3 concurrent)\n\n**L∆∞u √Ω:** Endpoint n√†y delay 3 gi√¢y n√™n d·ªÖ quan s√°t"
					}
				},
				{
					"name": "üîó 5. Test COMBINED (K·∫øt h·ª£p)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/api/client/combined",
							"host": ["{{client_url}}"],
							"path": ["api", "client", "combined"]
						},
						"description": "**Test K·∫æT H·ª¢P NHI·ªÄU PATTERN**\n\n√Åp d·ª•ng ƒë·ªìng th·ªùi:\n1. Rate Limiter (5 req/10s)\n2. Circuit Breaker (50% failure ‚Üí OPEN)\n3. Retry (3 l·∫ßn)\n\nTh·ª© t·ª± ki·ªÉm tra:\nRequest ‚Üí Rate Limiter ‚Üí Circuit Breaker ‚Üí Retry ‚Üí Provider"
					}
				},
				{
					"name": "üìä 6. Xem Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/api/client/status",
							"host": ["{{client_url}}"],
							"path": ["api", "client", "status"]
						},
						"description": "Xem tr·∫°ng th√°i hi·ªán t·∫°i c·ªßa Circuit Breaker:\n- state: CLOSED/OPEN/HALF_OPEN\n- failureRate: T·ª∑ l·ªá l·ªói (%)\n- numberOfSuccessfulCalls: S·ªë l·∫ßn g·ªçi th√†nh c√¥ng\n- numberOfFailedCalls: S·ªë l·∫ßn g·ªçi th·∫•t b·∫°i"
					}
				},
				{
					"name": "üîÑ 7. Reset Circuit Breaker",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{client_url}}/api/client/reset",
							"host": ["{{client_url}}"],
							"path": ["api", "client", "reset"]
						},
						"description": "Reset Circuit Breaker v·ªÅ tr·∫°ng th√°i CLOSED.\nD√πng khi mu·ªën demo l·∫°i t·ª´ ƒë·∫ßu."
					}
				}
			]
		},
		{
			"name": "üìà Actuator Monitoring",
			"description": "C√°c endpoint Actuator ƒë·ªÉ monitor Resilience4j",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/actuator/health",
							"host": ["{{client_url}}"],
							"path": ["actuator", "health"]
						},
						"description": "Xem health status c·ªßa t·∫•t c·∫£ components"
					}
				},
				{
					"name": "Circuit Breakers Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/actuator/circuitbreakers",
							"host": ["{{client_url}}"],
							"path": ["actuator", "circuitbreakers"]
						},
						"description": "Xem tr·∫°ng th√°i t·∫•t c·∫£ Circuit Breakers"
					}
				},
				{
					"name": "Rate Limiters Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/actuator/ratelimiters",
							"host": ["{{client_url}}"],
							"path": ["actuator", "ratelimiters"]
						},
						"description": "Xem tr·∫°ng th√°i t·∫•t c·∫£ Rate Limiters"
					}
				},
				{
					"name": "Retries Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/actuator/retries",
							"host": ["{{client_url}}"],
							"path": ["actuator", "retries"]
						},
						"description": "Xem tr·∫°ng th√°i t·∫•t c·∫£ Retry configs"
					}
				},
				{
					"name": "Bulkheads Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{client_url}}/actuator/bulkheads",
							"host": ["{{client_url}}"],
							"path": ["actuator", "bulkheads"]
						},
						"description": "Xem tr·∫°ng th√°i t·∫•t c·∫£ Bulkheads"
					}
				}
			]
		}
	]
}
